<!-- TODO: complete -->
<div class="section">
    <div class="columns">
        <div class="column is-2 has-background-light">
            <div class="section">
                <figure class="image is-128x128">
                    <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
                </figure>
            </div>
            <div @click="route(1)" class="section has-text-centered has-background-info-light">
                <p :class="page === 1 ? 'title is-5 has-text-info' : 'has-text-grey'">
                    <i class="fa fa-home"></i>
                    Home Feed
                </p>
            </div>
            <div @click="route(2)" class="section has-text-centered">
                <p :class="page === 2 ? 'title is-5 has-text-info' : 'has-text-grey'">
                    <i class="fa fa-book"></i>
                    Discover
                </p>
            </div>
            <div @click="route(3)" class="section has-text-centered">
                <p :class="page === 3 ? 'title is-5 has-text-info' : 'has-text-grey'">
                    <i class="fa fa-user"></i>
                    My Profile
                </p>
            </div>
        </div>
        <div class="column has-background-light">
            <!-- If page is 1 -->
            <div v-if="page == 1">
                <div class="box">
                    <div class="columns">
                        <div class="column is-2">
                            <figure class="image is-2by3">
                                <img src="https://bulma.io/images/placeholders/128x128.png">
                            </figure>
                            <div class="section">
                                <p class="title is-size-7">Add a book to this post...</p>
                            </div>
                        </div>
                        <div class="column">
                            <article class="media has-background-white">
                                <!--<figure class="media-left">-->
                                <!--    <p class="image is-64x64">-->
                                <!--        <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">-->
                                <!--    </p>-->
                                <!--</figure>-->
                                <div class="media-content">
                                    <nav class="level">
                                        <div class="level-left">
                                            <figure class="level-item">
                                                <p class="image is-48x48">
                                                    <img class="is-rounded"
                                                         src="https://bulma.io/images/placeholders/128x128.png">
                                                </p>
                                            </figure>
                                            <p class="level-item"><strong>{{fullname}}</strong></p>
                                        </div>
                                    </nav>
                                    <!--<div class="section">-->
                                    <!--    <p><strong>{{fullname}}</strong></p>-->
                                    <!--</div>-->
                                    <div class="content">
                                        <p class="control">
                                        <textarea v-model="new_post" class="textarea"
                                                  placeholder="Start a book discussion..."></textarea>
                                        </p>
                                    </div>
                                    <nav class="level is-mobile">
                                        <div class="level-left">
                                            <a @click="create_new_post" class="button is-rounded is-info"><strong>Create
                                                Post</strong></a>
                                        </div>
                                    </nav>
                                </div>
                            </article>
                        </div>
                    </div>
                </div>

                <div class="section post has-background-white" v-for="(post, index) in posts">
                    <div class="columns">
                        <div class="column is-2">
                            <figure class="image is-2by3">
                                <img src="https://bulma.io/images/placeholders/128x128.png">
                            </figure>
                            <div class="section">
                                <nav class="level">
                                    <div class="level-item has-text-centered">
                                        <div>
                                            <p class="title is-size-6">The Giver</p>
                                            <p class="is-size-7">Lois Lowry</p>
                                        </div>
                                    </div>
                                </nav>
                            </div>
                        </div>
                        <div class="column">
                            <article class="media has-background-white">
                                <figure class="media-left">
                                    <p class="image is-64x64">
                                        <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
                                    </p>
                                </figure>
                                <div class="media-content">
                                    <div>
                                        <p>
                                            <strong>{{post.name}}</strong> <small>{{post.post_date}}</small>
                                            <br>
                                            {{post.content}}
                                            <br>
                                        </p>
                                    </div>

                                    <nav class="level is-mobile">
                                        <div class="level-left">
                                            <a class="level-item"><p v-if="post.num_likes>0">{{post.num_likes}}</p>Like
                                                . </a>
                                            <div class="level-item" v-if="!post.show_comments">
                                                <a v-if="!(post.replies==0)" @click="show_comments(post._idx)"
                                                   class="is-info"><strong>View all comments</strong></a>
                                                <p v-if="post.replies==0" class="is-size-7 has-text-grey">Be the first
                                                    to
                                                    comment on this post.</p>
                                            </div>
                                        </div>
                                    </nav>

                                    <div v-if="post.show_comments" v-for="reply in post.replies">
                                        <article class="media">
                                            <figure class="media-left">
                                                <p class="image is-48x48">
                                                    <img class="is-rounded"
                                                         src="https://bulma.io/images/placeholders/128x128.png">
                                                </p>
                                            </figure>
                                            <div class="media-content">
                                                <article class="message is-info">
                                                    <div class="message-body">
                                                        <strong>{{reply.name}}</strong>
                                                        {{reply.content}}
                                                    </div>
                                                </article>
                                                <p v-if="reply.num_likes>0">{{reply.num_likes}}</p><a>Like</a> .
                                                {{reply.post_date}}
                                            </div>
                                        </article>
                                    </div>
                                </div>
                                <div class="media-right">
                                    <a><i class="fa fa-ellipsis-h"></i></a>
                                </div>
                            </article>

                            <div class="section">
                                <div class="columns">
                                    <div class="column is-1">
                                        <p class="image is-48x48">
                                            <img class="is-rounded"
                                                 src="https://bulma.io/images/placeholders/128x128.png">
                                        </p>
                                    </div>
                                    <div class="column">
                                        <div class="field is-horizontal">
                                            <div class="field-body">
                                                <div class="field">
                                                    <p class="control">
                                                        <input v-model="post.new_comment" class="input is-rounded"
                                                               placeholder="Add a comment ...">
                                                    </p>
                                                </div>
                                                <a @click="create_new_reply(post._idx)"
                                                   class="button is-rounded is-info"><strong>Submit</strong></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
            <!-- If page is 2 -->
            <div v-if="page == 2">
                <!-- COMPONENT ADDED HERE -->
                <about :url="about_url"></about>
                <!-- Looks odd... But notice how we are using a component! -->
            </div>
            <!-- If page is 3 -->
            <div v-if="page == 3">
                <!-- COMPONENT ADDED HERE -->
                <samplepage></samplepage>
                <!-- Another component being used (ie. every page other than home is a component) -->
            </div>
        </div>
    </div>
</div>