<div>
    <div class="box">
        <div class="has-background-info">
            <div class="columns">
                <div class="column is-9">
                    <div class="section">
                        <div class="section has-text-left">
                            <figure class="image is-128x128">
                                <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
                            </figure>
                            <p class="title is-3 has-text-white control">{{fullname}}</p>
                        </div>

                        <div class="section has-text-left">
                            <div class="title is-7 has-text-grey-lighter control">
                                <strong>
                                    <p v-if="profile_user_id == current_user_id">Your Bookshelf</p>
                                    <p v-if="!(profile_user_id == current_user_id)">{{fullname}}'s Bookshelf</p>
                                </strong></div>
                            <p class="title is-5">This is where the user's bookshelf will appear!</p>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="section">
                        <p class="title is-5 has-text-grey-lighter"><strong>Currently Reading</strong></p>
                        <figure class="image is-128x128">
                            <img src="https://bulma.io/images/placeholders/128x128.png">
                        </figure>
                        <div class="section has-text-centered">
                            <p class="title is-5 has-text-white"><strong>The Giver</strong></p>
                            <p class="title is-7 has-text-grey-lighter">Author: Lois Lowry</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="has-background-white">
            <div class="columns">
                <div class="column is-2">
                    <figure class="image is-2by3">
                        <img src="https://bulma.io/images/placeholders/128x128.png">
                    </figure>
                    <div class="section">
                        <p class="title is-size-7">Add a book to this post...</p>
                    </div>
                </div>
                <div class="column">
                    <article class="media">
                        <div class="media-content">
                            <nav class="level">
                                <div class="level-left">
                                    <figure class="level-item">
                                        <p class="image is-48x48">
                                            <img class="is-rounded"
                                                 src="https://bulma.io/images/placeholders/128x128.png">
                                        </p>
                                    </figure>
                                    <p class="level-item"><strong>{{fullname}}</strong></p>
                                </div>
                            </nav>
                            <div class="content">
                                <p class="control">
                                        <textarea v-model="new_post" class="textarea"
                                                  placeholder="Start a book discussion..."></textarea>
                                </p>
                            </div>
                            <nav class="level is-mobile">
                                <div class="level-left">
                                    <a @click="create_new_post" class="button is-rounded is-info"><strong>Create
                                        Post</strong></a>
                                </div>
                            </nav>
                        </div>
                    </article>
                </div>
            </div>
        </div>
    </div>

    <div class="section has-background-white" v-for="(post, index) in posts">
        <div class="columns section">
            <div class="column is-2">
                <figure class="image is-2by3">
                    <img src="https://bulma.io/images/placeholders/128x128.png">
                </figure>
                <div class="section">
                    <nav class="level">
                        <div class="level-item has-text-centered">
                            <div>
                                <p class="title is-size-6">The Giver</p>
                                <p class="is-size-7">Lois Lowry</p>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
            <div class="column">
                <article class="media has-background-white">
                    <figure class="media-left">
                        <p class="image is-1by2">
                            <img class="is-rounded" src="https://bulma.io/images/placeholders/128x128.png">
                        </p>
                    </figure>
                    <div class="media-content">
                        <div>
                            <p>
                                <a><strong>{{post.name}}</strong></a> <small>{{post.post_date}}</small>
                                <br>
                                {{post.content}}
                                <br>
                            </p>
                        </div>

                        <nav class="level is-mobile">
                            <div class="level-left">
                                <a class="level-item"><p v-if="post.num_likes>0">{{post.num_likes}}</p>Like
                                    . </a>
                                <div class="level-item" v-if="!post.show_comments">
                                    <a v-if="!(post.replies==0)" @click="show_comments(post._idx)" class="is-info">
                                        <strong>View all comments</strong></a>
                                    <p v-if="post.replies==0" class="is-size-7 has-text-grey">Be the first
                                        to
                                        comment on this post.</p>
                                </div>
                                <div class="level-item" v-if="post.show_comments">
                                    <a @click="collapse_comments(post._idx)" class="is-info">
                                        <strong>Collapse all comments</strong></a>
                                </div>
                            </div>
                        </nav>

                        <div v-if="post.show_comments" v-for="reply in post.replies">
                            <article class="section media">
                                <figure class="media-left">
                                    <p class="image is-48x48">
                                        <img class="is-rounded"
                                             src="https://bulma.io/images/placeholders/128x128.png">
                                    </p>
                                </figure>
                                <div class="media-body">
                                    <article class="message is-info">
                                        <div class="message-body">
                                            <p><strong>{{reply.name}}</strong> {{reply.post_date}} {{reply.content}}</p>

                                        </div>
                                    </article>
                                </div>
                            </article>
                        </div>
                    </div>
                    <div class="media-right">
                        <a><i class="fa fa-ellipsis-h"></i></a>
                    </div>
                </article>

                <div class="section">
                    <div class="columns">
                        <div class="column is-1">
                            <p class="image is-48x48">
                                <img class="is-rounded"
                                     src="https://bulma.io/images/placeholders/128x128.png">
                            </p>
                        </div>
                        <div class="column">
                            <div class="field is-horizontal">
                                <div class="field-body">
                                    <div class="field">
                                        <p class="control">
                                            <input v-model="post.new_comment" class="input is-rounded"
                                                   placeholder="Add a comment ...">
                                        </p>
                                    </div>
                                    <a @click="create_new_reply(post._idx)"
                                       class="button is-rounded is-info"><strong>Submit</strong></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>
    </div>
</div>